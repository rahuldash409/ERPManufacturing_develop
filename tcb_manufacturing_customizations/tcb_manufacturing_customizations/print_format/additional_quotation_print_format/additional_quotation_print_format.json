{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-09-11 00:41:36.344235",
 "css": "body {\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            margin: 0;\n            padding: 20px;\n            color: #333;\n            line-height: 1.4;\n        }\n        \n        .quotation-container {\n            max-width: 800px;\n            margin: 0 auto;\n        }\n        \n        /* SOLUTION 1: wkhtmltopdf specific table fixes */\n        /*table, tr, td, th, tbody, thead, tfoot { */\n        /*    page-break-inside: avoid !important; */\n        /*}*/\n        \n        /* SOLUTION 2: Table layout fixed for better control */\n        .main-table {\n            width: 100%;\n            border-collapse: collapse;\n            border: 1px solid #dee2e6;\n            margin-bottom: 20px;\n            table-layout: fixed !important;\n        }\n        \n        .main-table td {\n            padding: 10px 15px;\n            border: 1px solid #dee2e6;\n            vertical-align: top;\n        }\n        \n        /* Header Section */\n        .quotation-header {\n            text-align: center;\n            background: #f8f9fa;\n            border-bottom: 2px solid #2c5aa0;\n            padding: 20px;\n        }\n        \n        .quotation-title {\n            font-size: 24px;\n            font-weight: bold;\n            color: #2c5aa0;\n            margin: 0;\n        }\n        \n        /* Quote Details Styling */\n        .details-table {\n            width: 100%;\n            border-collapse: collapse;\n            table-layout: fixed;\n        }\n        \n        .details-table td {\n            padding: 8px 10px;\n            border-bottom: 1px dotted #ddd;\n        }\n        \n        .detail-label {\n            font-weight: 600;\n            color: #495057;\n            font-size: 13px;\n            width: 40%;\n        }\n        \n        .detail-value {\n            font-weight: 500;\n            color: #2c5aa0;\n            font-size: 13px;\n            width: 60%;\n        }\n        \n        .details-section-bg {\n            background: #f8f9fa;\n            padding: 15px;\n        }\n        \n        /* SOLUTION 3: Section titles as separate tables */\n        .section-title-table {\n            width: 100%;\n            border-collapse: collapse;\n            border: 1px solid #dee2e6;\n            margin: 10px 0 5px 0;\n            table-layout: fixed;\n        }\n        \n        .section-title {\n            font-size: 18px;\n            font-weight: bold;\n            color: #2c5aa0;\n            margin: 0;\n            padding: 15px;\n            background: #f8f9fa;\n            border-bottom: 1px solid #dee2e6;\n        }\n        \n        /* SOLUTION 4: Each item as separate table */\n        .item-table {\n            width: 100%;\n            border-collapse: collapse;\n            border: 2px solid #2c5aa0;\n            font-size: 13px;\n            /*border: 1px solid #dee2e6;*/\n            margin-bottom: 15px;\n            table-layout: fixed !important;\n        }\n        \n        .item-table td {\n            padding: 10px 15px;\n            border: 1px solid #f1f3f4;\n            vertical-align: top;\n        }\n        \n        .item-title-row {\n            background: #e8f4f8;\n            \n        }\n        \n        .item-title-cell {\n            padding: 15px 20px;\n            font-weight: 600;\n            font-size: 14px;\n            color: #2c5aa0;\n            text-align: left;\n        }\n        \n        .item-table tr:nth-child(even) {\n            background-color: #fbfcfd;\n        }\n        \n        .prop-label {\n            font-weight: 600;\n            color: #495057;\n            width: 25%;\n            font-size: 13px;\n        }\n        \n        .prop-value {\n            color: #6c757d;\n            font-weight: 500;\n            font-size: 13px;\n            width: 25%;\n        }\n        \n        .price-highlight {\n            background: #e8f4f8 !important;\n            /*border-left: 4px solid #2c5aa0;*/\n        }\n        \n        .price-highlight .prop-value {\n            font-weight: 700;\n            color: #2c5aa0;\n            font-size: 14px;\n        }\n        \n        /* SOLUTION 5: Terms as separate table */\n        .terms-table {\n            /*width: 100%;*/\n            border-collapse: collapse;\n            border: 1px solid #dee2e6;\n            margin-top: 15px;\n            /*table-layout: fixed;*/\n        }\n        \n        .terms-title {\n            font-size: 16px;\n            font-weight: bold;\n            color: #2c5aa0;\n            margin: 0;\n            padding: 15px;\n            background: #f8f9fa;\n        }\n        \n        .terms-content {\n            /*font-size: 13px;*/\n            /*line-height: 1.6;*/\n            color: #495057;\n            /*white-space: pre-line;*/\n            background: #f8f9fa;\n            /*padding: 15px;*/\n        }\n        \n        /* Currency Symbols */\n        .currency-symbol {\n            font-weight: bold;\n        }\n        \n        /* SOLUTION 6: wkhtmltopdf specific hacks */\n        @media print {\n            body { \n                print-color-adjust: exact;\n                margin: 0;\n                padding: 10px;\n            }\n            \n            /* Force table properties */\n            table {\n                table-layout: fixed !important;\n                width: 100% !important;\n            }\n            \n            tr {\n                page-break-inside: avoid !important;\n            }\n            \n            /* Prevent empty pages */\n            .main-table, .item-table, .terms-table, .section-title-table {\n                /*page-break-after: auto !important;*/\n                /*page-break-before: avoid !important;*/\n            }\n        }\n        \n        /* Letterhead styles */\n        .letterhead-container {\n            width: 100%;\n            box-sizing: border-box;\n        }\n        \n        .header-table {\n            width: 100%;\n            border-collapse: collapse;\n            /*border-bottom: 0px solid #2c5aa0;*/\n            /*margin-top:;*/\n            margin-bottom: 20px;\n            table-layout: fixed;\n        }\n        \n        .company-name {\n            font-size: 17px;\n            font-weight: bold;\n            color: #2c5aa0;\n            margin-bottom: 3px;\n        }\n        \n        .address-text {\n            color: #666;\n            font-size: 13px;\n            line-height: 1.4;\n            margin-bottom: 4px;\n        }\n        \n        .contact-phone, .contact-email {\n            /*font-weight: bold;*/\n            color: #666;\n            /*background: #f0f8ff;*/\n            /*padding: 0px 0px;*/\n            /*border-radius: 3px;*/\n            margin: 4px 0;\n            font-size: 12px;\n        }",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<!DOCTYPE html>\n{% set company = frappe.get_doc(\"Company\",doc.company) %}\n{% set logo_file = frappe.get_list(\"File\",filters={\n                                            'attached_to_doctype':'Company',\n                                            'attached_to_field':'company_logo',\n                                            'attached_to_name':doc.company\n                                            }, fields=[\"file_url\"],limit=1)%}\n{% set currency_symbols = {\n    \"INR\": \"\u20b9\",\n    \"USD\": \"$\",\n    \"EUR\": \"\u20ac\",\n    \"GBP\": \"\u00a3\",\n    \"JPY\": \"\u00a5\",\n    \"CNY\": \"\u00a5\",\n    \"AED\": \"\u062f.\u0625\"\n} %}\n{% set symbol = currency_symbols.get(doc.currency, \"$\") %}\n<html>\n<body>\n    \n    <div class=\"letterhead-container\">\n    <!-- Main Header Table -->\n    <table class=\"header-table\" style=\"border-bottom: 3px solid #2c5aa0;\">\n        <tr>\n            <td style=\"width: 30%; vertical-align: top; padding-right: 20px;\">\n                <!-- Logo Section - Left Side -->\n                <div style=\"width: 250px;\">\n                    {% if logo_file %}\n                        <img src=\"{{ logo_file[0].file_url }}\">\n                    {% endif %}\n                </div>\n            </td>\n            <td style=\"width: 70%; vertical-align: top; text-align: right;\">\n                <!-- Company Information - Right Side, Right Aligned -->\n                <div class=\"company-name\">{{ doc.company }}</div>\n                <div class=\"address-text\">{{ doc.company_address_display }}</div>\n                <div class=\"contact-phone\">{{ company.phone_no }}    |    {{ company.email }}</div>\n            </td>\n        </tr>\n    </table>\n</div>\n    <div class=\"quotation-container\">\n        <!-- Header Table -->\n        <table class=\"main-table\">\n            <tr>\n                <td colspan=\"4\" class=\"quotation-header\">\n                    <div class=\"quotation-title\">QUOTATION</div>\n                </td>\n            </tr>\n        </table>\n        \n        <!-- Quote Details Table -->\n        <table class=\"main-table\">\n            <tr>\n                <td colspan=\"4\" class=\"details-section-bg\">\n                    <table class=\"details-table\">\n                        <tr>\n                            <!-- Left Column Details -->\n                            <td style=\"width: 50%; vertical-align: top;\">\n                                <table class=\"details-table\">\n                                    <tr>\n                                        <td class=\"detail-label\">Quote Number:</td>\n                                        <td class=\"detail-value\">{{ doc.name }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Date:</td>\n                                        <td class=\"detail-value\">{{ doc.transaction_date if doc.transaction_date else \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Valid Till:</td>\n                                        <td class=\"detail-value\">{{ doc.valid_till if doc.valid_till else \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Customer:</td>\n                                        <td class=\"detail-value\">{{ doc.party_name or \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Country:</td>\n                                        <td class=\"detail-value\">{{ doc.custom_country or \"\" }}</td>\n                                    </tr>\n                                </table>\n                            </td>\n                            \n                            <!-- Right Column Details -->\n                            <td style=\"width: 50%; vertical-align: top;\">\n                                <table class=\"details-table\">\n                                    <tr>\n                                        <td class=\"detail-label\">Currency:</td>\n                                        <td class=\"detail-value\">\n                                            <span class=\"currency-symbol\">\n                                                {% if doc.currency == 'USD' %}$\n                                                {% elif doc.currency == 'EUR' %}\u20ac\n                                                {% elif doc.currency == 'GBP' %}\u00a3\n                                                {% elif doc.currency == 'INR' %}\u20b9\n                                                {% elif doc.currency == 'AUD' %}A$\n                                                {% elif doc.currency == 'CAD' %}C$\n                                                {% else %}{{ doc.currency }}\n                                                {% endif %}\n                                            </span>\n                                            {{ doc.currency or \"\" }}\n                                        </td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Inco Term:</td>\n                                        <td class=\"detail-value\">{{ doc.incoterm or \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Port of Loading:</td>\n                                        <td class=\"detail-value\">{{ doc.named_place or \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Delivery Port:</td>\n                                        <td class=\"detail-value\">{{ doc.custom_delivery_port or \"\" }}</td>\n                                    </tr>\n                                    <tr>\n                                        <td class=\"detail-label\">Expected Transit Time:</td>\n                                        <td class=\"detail-value\">{{ doc.custom_expected_transit_time_days or \"\" }} Days</td>\n                                    </tr>\n                                </table>\n                            </td>\n                        </tr>\n                    </table>\n                </td>\n            </tr>\n        </table>\n        \n        <!-- Items Section Header Table -->\n        <table class=\"section-title-table\">\n            <tr>\n                <td class=\"section-title\">Item Details</td>\n            </tr>\n        </table>\n        \n        <!-- Items Section Content - Each item as separate table -->\n        {% for item in doc.items %}\n            {% set items_properties = frappe.get_all(\"Item Property Detail\", \n                filters={'parent': item.item_code}, \n                fields=[\"item_property\", \"uom\", \"value\"]) %}\n            {% set item_doc = frappe.get_doc(\"Item\", item.item_code) %}\n            \n            <table class=\"item-table\">\n                <!-- Item Title Row -->\n                <tr class=\"item-title-row\">\n                    <td colspan=\"4\" class=\"item-title-cell\">\n                        Item {{ loop.index }}: {{ item.item_name or item.item_code }} \n                        ({{ item.item_code }})\n                    </td>\n                </tr>\n                \n                <!-- Properties in 2x2 format -->\n                {% set total_props = items_properties|length %}\n                {% for i in range(0, total_props, 2) %}\n                <tr>\n                    <!-- Left side property -->\n                    {% if items_properties[i] %}\n                    <td class=\"prop-label\">{{ items_properties[i].item_property }}:</td>\n                    <td class=\"prop-value\">\n                        {{ items_properties[i].value or \"\" }}\n                        {% if items_properties[i].uom %} {{ items_properties[i].uom }}{% endif %}\n                    </td>\n                    {% else %}\n                    <td class=\"prop-label\"></td>\n                    <td class=\"prop-value\"></td>\n                    {% endif %}\n                    \n                    <!-- Right side property -->\n                    {% if items_properties[i+1] %}\n                    <td class=\"prop-label\">{{ items_properties[i+1].item_property }}:</td>\n                    <td class=\"prop-value\">\n                        {{ items_properties[i+1].value or \"\" }}\n                        {% if items_properties[i+1].uom %} {{ items_properties[i+1].uom }}{% endif %}\n                    </td>\n                    {% else %}\n                    <td class=\"prop-label\"></td>\n                    <td class=\"prop-value\"></td>\n                    {% endif %}\n                </tr>\n                {% endfor %}\n                \n                <!-- Custom fields rows -->\n                {% if item_doc.custom_additional_cost %}\n                <tr>\n                    <td class=\"prop-label\">Additional Cost:</td>\n                    <td class=\"prop-value\">{{ item_doc.custom_additional_cost }}</td>\n                    <td class=\"prop-label\"></td>\n                    <td class=\"prop-value\"></td>\n                </tr>\n                {% endif %}\n                \n                {% if item_doc.custom_price1000_bags %}\n                <tr class=\"price-highlight\">\n                    <td class=\"prop-label\">Price/1000 Bags:</td>\n                    <td class=\"prop-value\">\n                        <span class=\"currency-symbol\">\n                            {% if doc.currency == 'USD' %}$\n                            {% elif doc.currency == 'EUR' %}\u20ac\n                            {% elif doc.currency == 'GBP' %}\u00a3\n                            {% elif doc.currency == 'INR' %}\u20b9\n                            {% elif doc.currency == 'AUD' %}A$\n                            {% elif doc.currency == 'CAD' %}C$\n                            {% else %}{{ doc.currency }}\n                            {% endif %}\n                        </span>\n                        {{ item_doc.custom_price1000_bags }}\n                    </td>\n                    <td class=\"prop-label\"></td>\n                    <td class=\"prop-value\"></td>\n                </tr>\n                {% endif %}\n                \n                {% if item_doc.custom_item_remarks %}\n                <tr>\n                    <td class=\"prop-label\">Remarks:</td>\n                    <td colspan=\"3\" class=\"prop-value\">{{ item_doc.custom_item_remarks }}</td>\n                </tr>\n                {% endif %}\n            </table>\n        {% endfor %}\n        \n        <!-- Terms & Conditions Table -->\n        <!-- Terms & Conditions Table -->\n<!-- Terms & Conditions Table -->\n{% if doc.terms %}\n    {% set cleaned_terms = frappe.call(\"tcb_manufacturing_customizations.utils.terms_cleaner.clean_document_terms\") %}\n    <table class=\"terms-table\">\n        <tr>\n            <td class=\"terms-title\">Terms & Conditions</td>\n        </tr>\n        <tr>\n            <td class=\"terms-content\">\n                {{ cleaned_terms|safe }}\n            </td>\n        </tr>\n    </table>\n{% endif %}\n    </div>\n</body>\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-09-25 22:58:53.660910",
 "modified_by": "Administrator",
 "module": "Tcb Manufacturing Customizations",
 "name": "Additional Quotation Print Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}