{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-09-05 23:20:39.931997",
 "css": "\n        ",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "{% set company = frappe.get_doc(\"Company\",doc.company) %}\n\n{% set logo_file = frappe.get_list(\"File\",filters={\n                                            'attached_to_doctype':'Company',\n                                            'attached_to_field':'company_logo',\n                                            'attached_to_name':doc.company\n                                            }, fields=[\"file_url\"],limit=1)%}\n{% set currency_symbols = {\n    \"INR\": \"\u20b9\",\n    \"USD\": \"$\",\n    \"EUR\": \"\u20ac\",\n    \"GBP\": \"\u00a3\",\n    \"JPY\": \"\u00a5\",\n    \n    \"CNY\": \"\u00a5\",\n    \"AED\": \"\u062f.\u0625\"\n} %}\n\n{% set linked_delivery_notes = frappe.get_all(\"Delivery Note Item\",filters={\n                                            'against_sales_invoice':doc.name,\n                                            }, fields=[\"parent\"],group_by='parent', limit=1000) or []%}\n                                            \n<!--<p>{{linked_delivery_notes}}</p>-->\n\n{% if linked_delivery_notes %}\n    {% set linked_shipments_linked_to_delivery_notes = frappe.get_all(\"Shipment Delivery Note\",filters={\n                                            'delivery_note':linked_delivery_notes[0].parent,\n                                            }, fields=[\"parent\"],group_by='parent', limit=1000) or [] %}\n         \n    <!--<p>{{linked_shipments_linked_to_delivery_notes}}</p>  -->\n    \n    {% if linked_shipments_linked_to_delivery_notes %}\n        {% set linked_shipment = frappe.get_doc(\"Shipment\",linked_shipments_linked_to_delivery_notes[0].parent)%}\n    {% else %}\n        {% set linked_shipment = None %}\n    {% endif %}\n{% else %}\n    {% set linked_shipments_linked_to_delivery_notes = [] %}\n    {% set linked_shipment = None %}\n{% endif %}\n    <!--<p>{{linked_shipment}}</p>  -->\n \n{% set symbol = currency_symbols.get(doc.currency, symbol) %}\n\n\n\n{% set payment_entries = frappe.get_all(\"Payment Entry Reference\",\n    filters={\"reference_name\": doc.name,\"docstatus\":1},\n    fields=[\"parent\", \"allocated_amount\"]) or [] %}\n    \n<tdead>\n    <table>\n        \n        <tr>\n            <td style=\"font-size:11px; width:30%;\">\n    <span style=\"font-size: 18px;\n            font-weight: bold;\n            color: #1ea6fa;\">INVOICE</span>\n            <br/>\n            \n    {{ doc.company }}<br/>\n    {{ doc.company_address_display or \"\" }}\n    </td>\n    \n    <td style=\"font-size:11px;\">\n        <div style=\"margin-top:22px;\">\n                {{ company.email or \"\" }} <br/>\n                {{ company.phone_no or \"\"}}\n        </div>\n    </td>\n    \n    <td style=\"\">\n        <img style=\"\" src=\"{{logo_file[0].file_url}}\"/>\n    </td>\n    \n</tr>\n    \n</table>\n    \n    \n</thead>\n\n\n\n<tbody>\n    \n    <table style=\"width: 100%; margin-top: 20px;font-size:12px;\">\n        <tr style=\"background-color:#EDF6FD;\">\n            <td style=\"color: #000000; width: 35%; padding: 15px; vertical-align: top;\">\n                <b>Bill To</b><br/>\n                {{ doc.customer }} <br/>\n                {{ doc.address_display or \"\" }}\n            </td>\n            \n            <td style=\"width: 35%; padding: 15px;\">\n                <!-- Empty column for spacing -->\n            </td>\n            \n            <td style=\"color: #000000; width: 35%; padding: 15px; vertical-align: top;\">\n                <b>Ship To</b><br/>\n                {{ doc.customer }} <br/>\n                {{ doc.shipping_address or \"\" }}\n            </td>\n        </tr>\n        <table/>\n        <!--<div style=\"height: 50px; background-color:#EDF6FD;display: flex; align-items: center;\">-->\n        <!--    <hr style=\" border: none;-->\n        <!--                border-top: 1px dashed #1ea6fa;-->\n        <!--                margin:0px;\">-->\n        <!--    </div>-->\n        <!-- Blue Separator Between Tables -->\n<div style=\"width:100%; height:45px; background-color:#EDF6FD; padding-top:20px;\">\n    <hr style=\" border: none;\n                        border-top: 1px dashed #1ea6fa;\n                     margin:0px;\">\n</div>\n\n                        \n        <table style=\"width: 100%; font-size:12px;\">\n        <tr style=\"background-color:#EDF6FD;\">\n            <td style=\"color: #000000; width: 35%; padding: 35px; vertical-align: top;\">\n                <b>Shipping Info</b><br/>\n                \n                Shipping Via:{% if linked_shipment %}{{ linked_shipment.service_provider }}-{{linked_shipment.carrier}}{% else %}{% endif %}<br/>\n                Tracking No.: {% if linked_shipment %}{{ linked_shipment.awb_number }}{% else %}{% endif %} \n            </td>\n            \n            <td style=\"color: #000000; width: 35%; padding: 35px; vertical-align: top;\">\n                <b>Invoice Details</b><br/>\n                Invoice No.: {{ doc.name }} <br/>\n                Terms: {{ doc.payment_terms_template or \"\" }}<br/>\n                Invoice date:{{ doc.posting_date }} <br/>\n                Due Date: {{ doc.due_date }} <br/>\n            </td>\n            \n            <td style=\"color: #000000; width: 35%; padding: 35px; vertical-align: top;\">\n                PO Number: {{ doc.po_no }} <br/>\n                Sales Rep.: {{ doc.owner }}\n            </td>\n            \n        </tr>\n    </table>\n    \n    <!-- Items Table -->\n    <table style=\"width: 100%; border-collapse: collapse; margin-top: 20px; font-size:12px;\">\n        <thead>\n            <tr style=\"background-color: #f9f9f9;\">\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: left;\">#</th>\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: left;\">Product or service</th>\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: left;\">Description</th>\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: right;\">Qty</th>\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: right;\">Rate</th>\n                <th style=\"border-bottom:1px solid #ddd; padding: 8px; text-align: right;\">Amount</th>\n            </tr>\n        </thead>\n        <tbody>\n            {% for item in doc.items %}\n            <tr>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee;\">{{ loop.index }}</td>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee; font-weight:bold;\">{{item.customer_item_code or item.item_code }}</td>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee;\">{{ item.description }}<br/>- {{item.item_code}}</td>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee; text-align:right;\">{{  doc.custom_total_segregated_bags_qty or item.qty}}</td>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee; text-align:right;\">{{ symbol }}{{ item.rate }}</td>\n                <td style=\"padding: 8px; border-bottom:1px solid #eee; text-align:right;\">{{ symbol }}{{ item.amount }}</td>\n            </tr>\n            {% endfor %}\n        </tbody>\n    </table>\n    \n    <hr style=\"\n        border: none;\n        border-top: 1px solid #ddd;\n        margin: 10px 0;\">\n    \n    <table style=\"width: 100%; margin-top: 10px; font-size:12px;\">\n        <!-- Total Row -->\n        <tr>\n            <td style=\"width: 70%; text-align: right; font-weight: bold; font-size: 14px; padding: 5px 0;\">\n                Total\n            </td>\n            <td style=\"width: 30%; text-align: right; font-weight: bold; font-size: 14px; padding: 5px 0;\">\n                {{ symbol }}{{ doc.grand_total }}\n            </td>\n        </tr>\n        \n        <!-- Payment Rows -->\n        {% if doc.total_advance > 0 %}\n        <tr>\n            <td style=\"width: 70%; text-align: right; font-weight: bold; font-size: 12px; padding: 5px 0;\">\n                Advanced Payment\n            </td>\n            <td style=\"width: 30%; text-align: right; font-weight: bold; font-size: 12px; padding: 5px 0;\">\n                -{{ symbol }}{{ doc.total_advance }}\n            </td>\n        </tr>\n        {% endif %}\n        \n        {% if payment_entries %}\n        {% for payment in payment_entries %}\n        <tr>\n            <td style=\"width: 70%; text-align: right; font-weight: bold; font-size: 12px; padding: 0px 0;\">\n                {{payment.parent}}\n            </td>\n            <td style=\"width: 30%; text-align: right; font-weight: bold; font-size: 12px; padding: 0px 0;\">\n                -{{ symbol }}{{ payment.allocated_amount }}\n            </td>\n        </tr>\n        {% endfor %}\n        {% endif %}\n        \n        <!-- Balance Due Row -->\n        <tr>\n            <td style=\"width: 70%; text-align: right; font-weight: bold; font-size: 14px; padding: 5px 0; border-top: 1px solid #ddd;\">\n                Balance due\n            </td>\n            <td style=\"width: 30%; text-align: right; font-weight: bold; font-size: 14px; padding: 5px 0; border-top: 1px solid #ddd;\">\n                {{ symbol }}{{ doc.outstanding_amount }}\n            </td>\n        </tr>\n        <!--<tr>-->\n        <!--    <td></td>-->\n        <!--    <td style=\"width: 70%; text-align: right; font-weight: bold; font-size: 12px;-->\n        <!--    {% if doc.status == 'Draft' %} color: #808080; {% endif %}-->\n        <!--    {% if doc.status == 'Return' %} color: #6c757d; {% endif %}-->\n        <!--    {% if doc.status == 'Credit Note Issued' %} color: #17a2b8; {% endif %}-->\n        <!--    {% if doc.status == 'Submitted' %} color: #007bff; {% endif %}-->\n        <!--    {% if doc.status == 'Paid' %} color: #28a745; {% endif %}-->\n        <!--    {% if doc.status == 'Partly Paid' %} color: #ffc107; {% endif %}-->\n        <!--    {% if doc.status == 'Unpaid' %} color: #dc3545; {% endif %}-->\n        <!--    {% if doc.status == 'Unpaid and Discounted' %} color: #e83e8c; {% endif %}-->\n        <!--    {% if doc.status == 'Partly Paid and Discounted' %} color: #fd7e12; {% endif %}-->\n        <!--    {% if doc.status == 'Overdue and Discounted' %} color: #6610f2; {% endif %}-->\n        <!--    {% if doc.status == 'Overdue' %} color: #ff0000; {% endif %}-->\n        <!--    {% if doc.status == 'Cancelled' %} color: #343a40; {% endif %}-->\n        <!--    {% if doc.status == 'Internal Transfer' %} color: #20c997; {% endif %}\">-->\n        <!--    {{ doc.status }}-->\n        <!--    {% if doc.status == 'Overdue' %} - {{doc.due_date }}{% endif %}-->\n        <!--</td>-->\n        <!--</tr>-->\n    </table>\n    \n        \n    \n</tbody>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-11 12:00:37.598269",
 "modified_by": "Administrator",
 "module": "Tcb Manufacturing Customizations",
 "name": "Alliance Sales Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}